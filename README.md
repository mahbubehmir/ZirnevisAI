
# 🎬 بات تلگرام تولید زیرنویس دو زبانه (انگلیسی-فارسی)

این پروژه یک **بات تلگرام** هوشمند هست که به‌صورت خودکار مراحل زیر را برای ویدیوهای کاربر انجام می‌دهد:

1. دریافت ویدیو از کاربر  
2. استخراج صدا از ویدیو و کاهش نویز  
3. تبدیل گفتار به متن انگلیسی با استفاده از مدل **Whisper**  
4. ترجمه متن به **فارسی**  
5. ساخت فایل زیرنویس قابل ویرایش  
6. دریافت فایل ویرایش‌شده از کاربر و اعمال زیرنویس نهایی روی ویدیو  
7. ارسال ویدیو با زیرنویس دو زبانه به کاربر

🔥 ویژگی‌های جدید نسخه پیشرفته:

رابط کاربری گرافیکی جدید با Streamlit: اکنون کاربران می‌توانند از یک رابط کاربری گرافیکی ساده و جذاب برای مدیریت فرآیندهای مختلف استفاده کنند.

تعامل آنلاین با فایل‌های زیرنویس: کاربران می‌توانند زیرنویس‌ها را به راحتی در محیط Streamlit ویرایش کنند و نتایج را به‌صورت آنی مشاهده نمایند.

پشتیبانی از بارگذاری و دانلود ویدیوها و زیرنویس‌ها به‌طور مستقیم از طریق مرورگر: کاربران می‌توانند ویدیوها و زیرنویس‌ها را به‌راحتی بارگذاری و دریافت کنند.

پیشرفت در تبدیل ویدیو به زیرنویس: افزوده شدن قابلیت‌های جدید در استخراج صدا و تبدیل آن به متن با دقت بالاتر.

---

### ✨ ویژگی‌ها
- ✅ رابط کاربری ساده در تلگرام  
- 🎥 پشتیبانی از فایل‌های ویدیویی تا ۵۰ مگابایت  
- 🔊 حذف نویزهای زمینه و بهبود کیفیت صدا  
- 🧠 تبدیل گفتار به متن با استفاده از Whisper  
- 🌍 ترجمه انگلیسی به فارسی  
- 📄 ساخت فایل زیرنویس قابل ویرایش  
- 🎬 ساخت ویدیو نهایی با زیرنویس سوزانده‌شده (burned subtitles)

---

### 🛠 تکنولوژی‌های استفاده‌شده
- زبان برنامه‌نویسی Python  
- [OpenAI Whisper](https://github.com/openai/whisper) برای تشخیص گفتار  
- کتابخانه `python-telegram-bot` برای ارتباط با تلگرام  
- ابزار `ffmpeg` برای پردازش ویدیو و صدا  
- `librosa` و `noisereduce` برای حذف نویز  
- `deep-translator` برای ترجمه به فارسی  
- فرمت خروجی زیرنویس: `.srt`  

---

### 🧰 نحوه عملکرد
1. کاربر یک ویدیو برای بات ارسال می‌کند.  
2. بات صدا را استخراج و نویز آن را حذف می‌کند.  
3. متن انگلیسی استخراج شده با Whisper تولید می‌شود.  
4. هر جمله به فارسی ترجمه می‌شود.  
5. یک فایل متنی قابل ویرایش برای کاربر ارسال می‌شود.  
6. کاربر فایل ویرایش‌شده را آپلود می‌کند.  
7. بات آن را به زیرنویس تبدیل کرده و روی ویدیو اعمال می‌کند.  
8. ویدیوی نهایی با زیرنویس دو زبانه برای کاربر ارسال می‌شود.  

---

### 📂 ساختار فایل‌ها

| نام فایل | توضیح |
|----------|-------|
| `input_video.mp4` | ویدیوی ورودی کاربر |
| `extracted_audio.mp3` | صدای استخراج‌شده از ویدیو |
| `cleaned_audio.wav` | صدای پاک‌سازی‌شده |
| `subtitles_editable.txt` | زیرنویس قابل ویرایش انگلیسی + فارسی |
| `final_subtitles.srt` | فایل نهایی زیرنویس SRT |
| `output_with_subtitles.mp4` | ویدیوی نهایی با زیرنویس |

---

### 💻 نصب و اجرا

#### نصب پیش‌نیازها:
```bash
pip install -r requirements.txt
```

#### کتابخانه‌های موردنیاز:
- `openai-whisper`  
- `python-telegram-bot`  
- `librosa`  
- `noisereduce`  
- `deep-translator`  
- `soundfile`  
- ابزار `ffmpeg` باید روی سیستم نصب و در PATH قرار گرفته باشد.

---

### 🔒 نکته امنیتی:
در حال حاضر، توکن بات به‌صورت مستقیم در کد نوشته شده.  
پیشنهاد می‌شود برای افزایش امنیت، از متغیر محیطی استفاده شود:

```python
import os
TOKEN = os.getenv("TELEGRAM_BOT_TOKEN")
```

---

### ▶️ اجرای بات:
```bash
python bot.py
```

---

### 📬 تماس با من:
طراحی و پیاده‌سازی توسط **محبوبه**  
### 📫 راه‌های ارتباطی با من

- 📧 ایمیل: [niayeshmirshekar92@gmail.com](mailto:niayeshmirshekar92@gmail.com)
- 💼 لینکدین: [Mahboubeh Mirshekar](https://www.linkedin.com/in/mahbubeh-mirshekar-999640170)
- اینستاگرام: airobo.project
  کانال تلگرام:airobo_project

---

<p align="center">
📲 آماده همکاری در پروژه‌های هوش مصنوعی، یادگیری ماشین و پردازش زبان و تصویر
